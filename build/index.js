(()=>{"use strict";var e,t={259:()=>{const e=window.wp.blocks,t=window.wp.i18n,a=window.wp.element,n=window.wp.blockEditor,r=window.wp.components,i=JSON.parse('{"u2":"konomotoblock/konomoto-product-block"}');(0,e.registerBlockType)(i.u2,{edit:function({attributes:e,setAttributes:i}){const l=(0,n.useBlockProps)(),m={description:e.description?e.description:"",price:e.price?e.price:"",materials:e.materials?e.materials:[{piece:"",madeFrom:""}],measurements:e.measurements?e.measurements:[{name:"Length:",value:"",unit:"cm"},{name:"Width:",value:"",unit:"cm"},{name:"Height:",value:"",unit:"cm"},{name:"Depth:",value:"",unit:"cm"}]},[c,s]=(0,a.useState)(m);return(0,a.useEffect)((()=>{i({description:c.description,price:c.price,materials:c.materials,measurements:c.measurements},[])})),(0,a.createElement)("div",{...l},(0,a.createElement)("div",null,(0,a.createElement)("h2",null,"Description:"),(0,a.createElement)(n.RichText,{className:"kwd-edit-input",tagName:"p",multiline:"true",withoutInteractiveFormatting:"true",name:"description",id:"description",value:c.description,placeholder:(0,t.__)("Enter a description..."),onChange:t=>(t=>{t&&(s({...c,description:t}),i({...e,description:c.description})),console.log("Attributes: ",e)})(t)})),(0,a.createElement)("div",{className:"kwd-product-info-container"},(0,a.createElement)("h2",null,"Price: "),(0,a.createElement)("div",{className:"kwd-flex-row"},(0,a.createElement)("p",null,"$"),(0,a.createElement)(n.RichText,{className:"kwd-edit-input",tagName:"p",withoutInteractiveFormatting:"true",name:"price",id:"price",value:c.price,placeholder:"9999",onChange:t=>(t=>{t&&(s({...c,price:t}),i({...e,price:c.price})),console.log("Attributes: ",e)})(t)}))),(0,a.createElement)("div",{className:"kwd-flex-column kwd-product-info-container"},(0,a.createElement)("h2",null,"Materials"),(0,a.createElement)("div",{className:"kwd-edit-materials-grid"},(0,a.createElement)("h3",null,"Piece"),(0,a.createElement)("h3",null,"Material")),c.materials.map(((t,l)=>(0,a.createElement)("div",{key:l,className:"kwd-edit-materials-grid"},(0,a.createElement)(n.RichText,{className:"kwd-edit-input",tagName:"p",format:"string",withoutInteractiveFormatting:"true",id:`piece-${l}`,name:`piece-${l}`,value:t.piece,placeholder:"Piece name",onChange:t=>((t,a)=>{const n=c.materials;n[a].piece=t,s({...c,materials:n}),i({...e,materials:c.materials}),console.log(e.materials)})(t,l)}),(0,a.createElement)(n.RichText,{className:"kwd-edit-input",tagName:"p",withoutInteractiveFormatting:"true",id:`madeFrom-${l}`,name:`madeFrom-${l}`,value:t.madeFrom,placeholder:"Made from...",onChange:t=>((t,a)=>{const n=c.materials;n[a].madeFrom=t,s({...c,materials:n}),i({...e,materials:c.materials}),console.log("Material changed")})(t,l)}),(0,a.createElement)("button",{onClick:t=>((t,a)=>{let n=c.materials;n.splice(a,1),s({...c,materials:n}),i({...e,materials:c.materials})})(0,l),className:"kwd-edit-remove-button"},(0,a.createElement)(r.Dashicon,{icon:"remove"}))))),(0,a.createElement)("button",{onClick:()=>{const t=c.materials;t.push({piece:"",madeFrom:""}),s({...c,materials:t}),i({...e,materials:c.materials})},className:"kwd-edit-add-part-button"},"+ Add Part")),(0,a.createElement)("div",{className:"kwd-product-info-container"},(0,a.createElement)("h2",null,"Measurements"),c.measurements.map(((t,r)=>(0,a.createElement)("div",{key:r,className:"kwd-edit-measurement-grid"},(0,a.createElement)("p",{htmlFor:t.name},t.name),(0,a.createElement)("div",{className:"kwd-edit-measurement-subgrid"},(0,a.createElement)(n.RichText,{className:"kwd-edit-input",tagName:"p",withoutInteractiveFormatting:"true",id:`measurement-${r}`,name:t.name,value:t.value,placeholder:"0",onChange:t=>((t,a)=>{const n=c.measurements;n[a].value=t,s({...c,measurements:n}),i({...e,measurements:c.measurements}),console.log("Measurement changed")})(t,r)}),(0,a.createElement)("select",{name:`${t.name}-unit`,id:`${t.name}-unit`,onChange:t=>((t,a)=>{const n=c.measurements;n[a].unit=t,s({...c,measurements:n}),i({...e,measurements:c.measurements})})(t,r),className:"kwd-edit-input"},(0,a.createElement)("option",{value:"cm",selected:!0},"cm"),(0,a.createElement)("option",{value:"in"},"in"),(0,a.createElement)("option",{value:"m"},"m"),(0,a.createElement)("option",{value:"ft"},"ft"))))))))},save:function({attributes:e}){const t=n.useBlockProps.save();return console.log("From Save: ",e),(0,a.createElement)("div",{...t},(0,a.createElement)("div",null,(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.description})),(0,a.createElement)("div",{style:{display:"flex"}},(0,a.createElement)("p",null,"$"),(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.price})),(0,a.createElement)("div",{className:"kwd-specifications-container"},(0,a.createElement)("div",{style:{display:"flex",flexDirection:"column"}},(0,a.createElement)("h2",null,"Materials"),e.materials?e.materials.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"kwd-materials-grid"},(0,a.createElement)(n.RichText.Content,{tagName:"p",format:"string",value:`${e.piece}:`}),(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.madeFrom})))):""),(0,a.createElement)("div",{style:{display:"flex",flexDirection:"column"}},(0,a.createElement)("h2",null,"Measurements"),e.measurements?e.measurements.map(((e,t)=>""!==e.value?(0,a.createElement)("div",{key:t,style:{display:"flex",gap:"1rem"}},(0,a.createElement)("p",null,e.name),(0,a.createElement)("div",{className:"kwd-measurements-grid"},(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.value}),(0,a.createElement)("p",null,e.unit))):void 0)):null)))}})}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,a,r,i)=>{if(!a){var l=1/0;for(o=0;o<e.length;o++){a=e[o][0],r=e[o][1],i=e[o][2];for(var m=!0,c=0;c<a.length;c++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](a[c])))?a.splice(c--,1):(m=!1,i<l&&(l=i));if(m){e.splice(o--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[a,r,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,l=a[0],m=a[1],c=a[2],s=0;if(l.some((t=>0!==e[t]))){for(r in m)n.o(m,r)&&(n.m[r]=m[r]);if(c)var o=c(n)}for(t&&t(a);s<l.length;s++)i=l[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(o)},a=self.webpackChunkkonomoto_product_block=self.webpackChunkkonomoto_product_block||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[431],(()=>n(259)));r=n.O(r)})();