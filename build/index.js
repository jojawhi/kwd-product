(()=>{"use strict";var e,t={227:()=>{const e=window.wp.blocks,t=window.wp.i18n,a=window.wp.element,n=window.wp.blockEditor,l=JSON.parse('{"u2":"create-block/konomoto-product-block"}');(0,e.registerBlockType)(l.u2,{edit:function({attributes:e,setAttributes:l}){const r=(0,n.useBlockProps)(),i={description:e.description?e.description:"",price:e.price?e.price:"",materials:e.materials?e.materials:[{piece:"",madeFrom:""}],measurements:e.measurements?e.measurements:[{name:"Length:",value:"",unit:"cm"},{name:"Width:",value:"",unit:"cm"},{name:"Height:",value:"",unit:"cm"},{name:"Depth:",value:"",unit:"cm"}]},[m,c]=(0,a.useState)(i);(0,a.useEffect)((()=>{l({description:m.description,price:m.price,materials:m.materials,measurements:m.measurements},[])}));const o=(t,a)=>{const{value:n,name:r}=t.target,i=m.measurements;r.includes("unit")?(i[a].unit=n,c({...m,measurements:i}),l({...e,measurements:m.measurements})):(i[a].value=n,c({...m,measurements:i}),l({...e,measurements:m.measurements})),console.log("Measurement changed")};return(0,a.createElement)("div",{...r},(0,a.createElement)("div",null,(0,a.createElement)(n.RichText,{tagName:"p",multiline:"true",withoutInteractiveFormatting:"true",name:"description",id:"description",value:m.description,placeholder:(0,t.__)("Enter a description..."),onChange:t=>(t=>{t&&(c({...m,description:t}),l({...e,description:m.description})),console.log("Attributes: ",e)})(t)})),(0,a.createElement)("div",{style:{display:"flex"}},(0,a.createElement)("p",null,"$"),(0,a.createElement)(n.RichText,{tagName:"p",withoutInteractiveFormatting:"true",name:"price",id:"price",value:m.price,placeholder:"9999",onChange:t=>(t=>{t&&(c({...m,price:t}),l({...e,price:m.price})),console.log("Attributes: ",e)})(t)})),(0,a.createElement)("div",{style:{display:"flex",flexDirection:"column"}},(0,a.createElement)("h3",null,"Materials"),(0,a.createElement)("div",{style:{display:"flex"}},(0,a.createElement)("h3",null,"Piece"),(0,a.createElement)("h3",null,"Material")),m.materials.map(((t,r)=>(0,a.createElement)("div",{key:r,style:{display:"flex",gap:"1rem"}},(0,a.createElement)(n.RichText,{tagName:"p",id:`piece-${r}`,name:`piece-${r}`,value:t.piece,placeholder:"Piece name",onChange:t=>((t,a)=>{const n=m.materials;n[a].piece=t,c({...m,materials:n}),l({...e,materials:m.materials}),console.log("Material changed")})(t,r)}),(0,a.createElement)(n.RichText,{tagName:"p",id:`madeFrom-${r}`,name:`madeFrom-${r}`,value:t.madeFrom,placeholder:"Made from...",onChange:t=>((t,a)=>{const n=m.materials;n[a].madeFrom=t,c({...m,materials:n}),l({...e,materials:m.materials}),console.log("Material changed")})(t,r)}),(0,a.createElement)("button",{onClick:t=>((t,a)=>{let n=m.materials;n.splice(a,1),c({...m,materials:n}),l({...e,materials:m.materials})})(0,r)},"-")))),(0,a.createElement)("button",{onClick:()=>{const t=m.materials;t.push({piece:"",madeFrom:""}),c({...m,materials:t}),l({...e,materials:m.materials})}},"+ Add Part")),(0,a.createElement)("div",null,(0,a.createElement)("h3",null,"Measurements"),m.measurements.map(((e,t)=>(0,a.createElement)("div",{key:t},(0,a.createElement)("label",{htmlFor:e.name},e.name),(0,a.createElement)("input",{type:"number",id:`measurement-${t}`,name:e.name,value:e.value,placeholder:"0",onChange:e=>o(e,t)}),(0,a.createElement)("select",{name:`${e.name}-unit`,id:`${e.name}-unit`,onChange:e=>o(e,t)},(0,a.createElement)("option",{value:"cm",selected:!0},"cm"),(0,a.createElement)("option",{value:"in"},"in"),(0,a.createElement)("option",{value:"m"},"m"),(0,a.createElement)("option",{value:"ft"},"ft")))))))},save:function({attributes:e}){const t=n.useBlockProps.save();return console.log("From Save: ",e),(0,a.createElement)("div",{...t},(0,a.createElement)("div",null,(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.description})),(0,a.createElement)("div",{style:{display:"flex"}},(0,a.createElement)("p",null,"$"),(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.price})),(0,a.createElement)("div",{style:{display:"flex",flexDirection:"column"}},(0,a.createElement)("h3",null,"Materials"),(0,a.createElement)("div",{style:{display:"flex"}},(0,a.createElement)("h3",null,"Piece"),(0,a.createElement)("h3",null,"Material")),e.materials?e.materials.map(((e,t)=>(0,a.createElement)("div",{key:t,style:{display:"flex",gap:"1rem"}},(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.piece}),(0,a.createElement)(n.RichText.Content,{tagName:"p",value:e.madeFrom})))):""))}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,l,r)=>{if(!a){var i=1/0;for(s=0;s<e.length;s++){a=e[s][0],l=e[s][1],r=e[s][2];for(var m=!0,c=0;c<a.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](a[c])))?a.splice(c--,1):(m=!1,r<i&&(i=r));if(m){e.splice(s--,1);var o=l();void 0!==o&&(t=o)}}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[a,l,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,i=a[0],m=a[1],c=a[2],o=0;if(i.some((t=>0!==e[t]))){for(l in m)n.o(m,l)&&(n.m[l]=m[l]);if(c)var s=c(n)}for(t&&t(a);o<i.length;o++)r=i[o],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(s)},a=self.webpackChunkkonomoto_product_block=self.webpackChunkkonomoto_product_block||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=n.O(void 0,[431],(()=>n(227)));l=n.O(l)})();